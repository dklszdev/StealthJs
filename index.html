<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <title>JS Obfuscator Free - v1.0.2 Fixed</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0" />
  
  <!-- Habilitar CORS y Permisos de Red -->
  <meta http-equiv="Access-Control-Allow-Origin" content="*">
  <meta http-equiv="Content-Security-Policy" content="default-src * 'unsafe-inline' 'unsafe-eval' data: blob:;">
  
  <meta name="description" content="Protección profesional de JavaScript con Domain Lock corregido y Cloud Storage." />
  
  <link rel="stylesheet" href="style.css" />
  
  <!-- Firebase Compat (Estable) -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>

  <script src="https://unpkg.com/@phosphor-icons/web"></script>
  <script src="main.js" defer></script>
</head>
<body>
  <div class="app-container" id="mainContainer">
    
    <!-- Sidebar -->
    <aside class="sidebar">
      <div class="brand">
        <i class="ph-fill ph-shield-check"></i>
        <span>STEALTH v1.0.2</span>
      </div>

      <div class="config-scroll">
        
        <!-- CLOUD PASTE -->
        <div class="group highlight-group">
          <label class="group-title" style="color:#fff"><i class="ph-fill ph-cloud-arrow-up"></i> Stealth Cloud</label>
          <div class="input-block">
            <input type="text" id="inputPasteAuthor" placeholder="Tu Alias" class="dark-input mb-2">
            <button id="btnUploadPaste" class="btn-paste">
              <i class="ph-bold ph-upload-simple"></i> Subir Paste
            </button>
          </div>
          <div id="pasteResult" class="paste-result" style="display:none;">
            <input type="text" id="pasteUrlInput" readonly class="dark-input">
            <button id="btnCopyUrl" class="icon-btn-small"><i class="ph-bold ph-copy"></i></button>
          </div>
        </div>

        <hr class="separator">

        <!-- CONFIG -->
        <div class="group">
          <label class="group-title">Nivel de Cifrado</label>
          <div class="select-wrapper">
            <select id="algoSelect">
              <option value="xor" selected>Polimórfico (Recomendado)</option>
              <option value="hex">Hexadecimal</option>
              <option value="b64">Base64</option>
            </select>
          </div>
        </div>

        <div class="group">
          <label class="group-title">Red & Visual</label>
          <label class="toggle-row">
            <span><i class="ph ph-wifi-high"></i> Network Camouflage</span>
            <input type="checkbox" id="checkNetwork" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-code"></i> Anti-Beautify</span>
            <input type="checkbox" id="checkAntiBeautify" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-chat-text"></i> Diálogo de Inicio</span>
            <input type="checkbox" id="checkIntroDialog">
          </label>
          <div id="dialogInputs" class="hidden-inputs">
            <input type="text" id="inputDialogText" placeholder="Mensaje..." class="dark-input mb-2">
            <input type="text" id="inputDialogBtn" placeholder="Texto Botón..." class="dark-input">
          </div>
        </div>

        <div class="group">
          <label class="group-title">Defensas Activas</label>
          <label class="toggle-row">
            <span><i class="ph ph-bomb"></i> Trap Mines</span>
            <input type="checkbox" id="checkTrapMines" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-prohibit"></i> Console Killer</span>
            <input type="checkbox" id="checkConsole" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-skull"></i> Self-Destruct</span>
            <input type="checkbox" id="checkSelfDestruct">
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-mouse-simple"></i> UI Lock</span>
            <input type="checkbox" id="checkUILock">
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-bug"></i> Anti-Debug Loop</span>
            <input type="checkbox" id="checkAntiDebug" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-fingerprint"></i> Anti-Tamper</span>
            <input type="checkbox" id="checkTamper">
          </label>
        </div>

        <div class="group">
          <label class="group-title">Extras</label>
          <label class="toggle-row">
            <span><i class="ph ph-waves"></i> Junk Flood</span>
            <input type="checkbox" id="checkJunk" checked>
          </label>
          <label class="toggle-row">
            <span><i class="ph ph-file-code"></i> Minificar</span>
            <input type="checkbox" id="checkMinify" checked>
          </label>
          
          <div class="input-block mt-2">
            <label class="sub-label">Domain Lock (Bloqueo)</label>
            <input type="text" id="inputDomain" placeholder="ej: misitio.com" class="dark-input">
          </div>
          <div class="input-block mt-2">
            <label class="sub-label">Marca de Agua</label>
            <input type="text" id="inputWatermark" placeholder="Autor" class="dark-input">
          </div>
        </div>
      </div>

      <div class="sidebar-footer">
        <button id="btnProcess" class="btn-action">
          <i class="ph-bold ph-lock-key"></i> ENCRIPTAR
        </button>
      </div>
    </aside>

    <!-- Editor -->
    <main class="main-content">
      <div class="editor-pane">
        <div class="pane-header">
          <span class="tab active"><i class="ph ph-code"></i> Entrada</span>
          <button id="btnClear" class="icon-btn" title="Limpiar"><i class="ph ph-trash"></i></button>
        </div>
        <textarea id="codeSource" class="code-editor" placeholder="// Pega tu JS aquí...&#10;console.log('Stealth Mode');" spellcheck="false"></textarea>
      </div>

      <div class="editor-pane">
        <div class="pane-header">
          <span class="tab active"><i class="ph ph-lock-key"></i> Resultado</span>
          <div class="actions">
            <button id="btnCopy" class="icon-btn" title="Copiar"><i class="ph ph-copy"></i></button>
            <button id="btnDownload" class="icon-btn" title="Descargar"><i class="ph ph-download-simple"></i></button>
          </div>
        </div>
        <textarea id="codeOutput" class="code-editor result-editor" readonly spellcheck="false" placeholder="El código ofuscado aparecerá aquí..."></textarea>
        <div id="statusBar" class="status-bar">Sistema Listo v1.0.2</div>
      </div>
    </main>
  </div>

  <!-- Modals -->
  <div id="tosModal" class="modal-overlay show">
    <div class="modal-box tos-box">
      <div class="tos-icon"><i class="ph-duotone ph-file-text"></i></div>
      <h2>Términos de Servicio</h2>
      <p class="tos-subtitle">JS Stealth Engine v1.0.2</p>
      <div class="tos-content">
        <p>1. <strong>Uso:</strong> Solo para protección de código legítimo.</p>
        <p>2. <strong>Cloud:</strong> Los pastes son públicos si se comparte el enlace.</p>
        <p>3. <strong>Responsabilidad:</strong> El usuario asume el riesgo total.</p>
      </div>
      <button id="btnAcceptTos" class="btn-primary">Aceptar y Continuar</button>
    </div>
  </div>

  <div id="appModal" class="modal-overlay">
    <div class="modal-box">
      <div class="modal-icon"><i class="ph-fill ph-shield-check"></i></div>
      <h2>JS STEALTH</h2>
      <p class="modal-version">v1.0.2 Fixed</p>
      <ul class="modal-credits">
        <li><strong>Silkspectre0</strong> <span class="role">UI / Design</span></li>
        <li><strong>Adrianodev</strong> <span class="role">Core Security</span></li>
      </ul>
      <button id="closeModalBtn" class="modal-btn">Acceder</button>
    </div>
  </div>
</body>
</html>